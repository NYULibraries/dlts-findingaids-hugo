{{- $titleproper := index .Site.Data .Params.repoidentifier .Params.identifier "eadheader" "filedesc" "titlestmt" "titleproper" }}
{{- if (reflect.IsSlice ($titleproper)) }}
      {{- $titleproper = index $titleproper 0 "value" }}
  {{- end }}
  {{- if (reflect.IsMap ($titleproper)) }}
    {{- if (index $titleproper "__text") }}
        {{- $titleproper = index $titleproper "__text" }}
    {{- end -}}
  {{- end -}}
 {{ $titleproper =  $titleproper | safeHTML }}
{{ return $titleproper }}